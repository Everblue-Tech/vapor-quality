<Tabs>
    <Tab eventKey="project" title="Project">
        The data for this tab should be known prior to the initial site visit.
        <ProjectInfoInputs {...props} />   
    </Tab>
    <Tab eventKey="assessment" title="Assessment">
        ## Building 
        <PhotoInput id="building_number_photo" label="Building Number – Photo">
            Provide a photo of the building that shows the building number
        </PhotoInput>

        ## Visual Assessment of the Ductwork
        If the ducts will be entirely replaced or the visual inspection found significant duct upgrades and 
        repairs are needed: 
        - Make notes and skip performing a duct leakage test at the initial phase 
        - Perform the duct leakage test post upgrades and repairs to verify the ducts are sufficiently airtight 
        <PhotoInput id="existing_duckwork_photo" label="Ductwork – Photo">
            Provide a representative photo of the existing ductwork condition.
        </PhotoInput>        
        <StringInput label="Ductwork Comments" path="comments_ductwork" />
        

        ## Static Pressure Test
        Total external static pressure measurement
        <PhotoInput id="preupgrade_static_pressure_test_photo" label="Pre-upgrade Static Pressure Test – Photo">
            Take a photo of the manometer readout or screenshot from digital instrument app.
        </PhotoInput>   
        <StringInput label="Comment on remediation plans if total external static pressure is above 0.5 i.w.c" path="comments_pre_upgrade_static_pressure_test" />
       

        ## Airflow Test
        Use flow plate test OR the pressure matching technique
        <PhotoInput id="pre_upgrade_air_flow_test_setup_photo" label="Pre-Upgrade Airflow Test Setup – Photo">
            Take a photo of the airflow test setup.
        </PhotoInput> 
        <PhotoInput id="pre_upgrade_air_flow_test_results_photo" label="Pre-Upgrade Airflow Results – Photo" >
            Take a photo of the manometer CFM or upload a screenshot of the instrument app.
        </PhotoInput>   
        <StringInput label="Comments on Pre-Upgrade Airflow Test" path="comments_pre_upgrade_air_flow_test" hint="Comment on remediation plan if flow is much lower than 400 CFM per ton" />

        ## Duct Leakage Testing
        If the ducts will be entirely replaced or the visual inspection found significant duct upgrades and 
        repairs are needed:
        - Make notes and skip performing a duct leakage test at the initial phase
        - Perform the duct leakage test post upgrades and repairs to verify the ducts are sufficiently airtight
        <PhotoInput id="duct_test_setup_photo" label="Duct Test Setup – Photo">
            Take a photo of the duct test setup showing ring size and how it is attached to the duct system.
        </PhotoInput>   
        <PhotoInput id="duct_leakage_cfm_photo" label="Duct Leakage CFM – Photo">
            Take a photo of the duct leakage test manometer, CFM at 25 Pa.
        </PhotoInput>   
        
        | CFM25 per 100 ft<sup>2</sup> Calculator
        | ---------------------------------------
        | <NumberInput label="CFM25" min={0} path="cfm25_calculator.cfm25"  /> 
        | <NumberInput label="Conditioned Floor Area (ft&#178;)" min={0} path="cfm25_calculator.conditioned_floor_area"  /> 
        | CFM25 per 100 ft<sup>2</sup> = { props.data.cfm25_calculator?.cfm25 && props.data.cfm25_calculator?.conditioned_floor_area ? ((props.data.cfm25_calculator.cfm25 / props.data.cfm25_calculator.conditioned_floor_area) * 100).toFixed(2) : null } 
        
        ## Type Of Test
        <Radio label="Type of duct leakage test performed" options={['Total Leakage','Leakage to Outside']} path="type_of_duct_leakage_radio" />

        ## Combustion Safety Testing
        If an atmospherically vented appliance will remain in the home after this heat pump installation work has been completed,
        a combustion safety testing has to be performed. Please use the combustion safety documentation workflow to document the combustion safety test results.

        
    </Tab>
     <Tab eventKey="planning" title="Planning">
       ## Planned Install Location
        <PhotoInput id="proposed_odu_install_location_photo" label="Proposed ODU Install Location – Photo">
            Take a photo of proposed ODU install location.
        </PhotoInput>  
        <Radio label="ODU Mounting Style" options={['Pad','Ground Stand','Wall Mount','Roof Mount']} path="outdoor_unit.odu_mounting_style" />

        <NumberInput label="ODU Inches Above The Ground (elevated above the snow)" min={0} path="outdoor_unit.odu_inches_above_ground" /> 
       
        <Radio label="Overhead Snow & Ice Protection" options={['Awning/Cover','None']} path="outdoor_unit.snow_ice_protection" />
       
        ## Manual J Calculation
        <Collapsible header="Manual J Calculation Details">
            Correctly sizing the heat pump for the home’s heating and cooling needs is much more
            important for a heat pump than for a furnace and AC system. Use ACCA-approved Manual J
            residential load calculation software. It is recommended that the Manual J calculations be
            performed with the home occupant that knows the most about the home present to help
            determine the most accurate values to enter. Ask the home occupant whether any rooms
            presently get too hot or cold. 
        </Collapsible>

        <FileInput id="manual_j_file" label="Full Manual J Report Attachment - File">
                File Types Accepted: PDF
        </FileInput>
        <StringInput label="Manual J Notes or Comments" path="comments_manual_j" />
        
        ## Equipment Performance Tables
        <PhotoInput id="mfg_extended_heating_performance_table_photo" label="MFG's Heating Performance Table – Photo" allowUpload>
            Upload a photo of the MFG's extended heating performance table
        </PhotoInput>
        <NumberInput label="Aux Heat Lockout Above This Temperature (&deg;F)" min={0} path="aux_heat_lockout_temperature" /> 
        <NumberInput label="Compresser Lockout Below This Temperature (&deg;F)" min={0} path="compresser_lockout_temperature" /> 
        <NumberInput label="Dual Fuel Switch Over Temperature (&deg;F)" min={0} path="dual_fuel_switch_over_temperature" /> 

        <PhotoInput id="mfg_extended_cooling_performance_table_photo" label="MFG's cooling performance table – Photo" allowUpload>
            Upload a photo of the MFG's extended cooling performance table showing sensible, latent, or SHR
        </PhotoInput>
        
        ## Pre-installation Additional Comments
        <StringInput label="Additional Comments" path="comments_ductwork_concluding_summary"  hint="E.g., Return air filter grille upsizing" />
    </Tab>
    <Tab eventKey="installation" title="Installation">
        <DateInput label="Installation Date" path="install_date" />
        ## Equipment
        <PhotoInput id="odu_nameplate_photo" label="ODU nameplate – Photo" >
            Take a photo of the Outdoor Unit (ODU) nameplate.
        </PhotoInput>
        <PhotoInput id="idu_nameplate_photo" label="IDU nameplate – Photo">
            Take a photo of the Indoor Unit (IDU) nameplate.
        </PhotoInput>
        ## Electrical
        <PhotoInput id="odu_circuit_breaker_photo" label="ODU circuit breaker – Photo">
            Take a photo showing the amperage of the breaker.
        </PhotoInput>
        <PhotoInput id="idu_circuit_breaker_photo" label="IDU circuit breaker – Photo">
            Take a photo showing the amperage of the breaker.
        </PhotoInput>
        
        <StringInput label="Circuit Breaker Notes" path="comment_circuit_breaker_notes" hint="E.g., wire size modifications, or shared or repurposed circuits." />
        ## Installation Tests
        <PhotoInput id="nitrogen_pressure_test_setup_photo" label="Nitrogen Pressure Test Setup – Photo">
            Take a photo of the nitrogen pressure test setup. Test to 500 PSI or manufacturer's recommended test pressure.
        </PhotoInput>
        <PhotoInput id="nitrogen_pressure_test_result_photo" label="Nitrogen Pressure Decay Test Results – Photo">
            Take a photo of the pressure gauge showing the temperature-compensated pressure decay after 10 minutes. Please use a digital pressure gauge.
        </PhotoInput>
        <PhotoInput id="vaccum_decay_test_setup_photo" label="Vacuum Decay Test Setup – Photo">
            Take a photo of the vacuum decay test setup.
        </PhotoInput>
        <PhotoInput id="vaccum_decay_test_results_photo" label="Vacuum Decay Test Results – Photo">
            Take a photo of the vacuum decay test results. Use a digital micron gauge. The system must be isolated from the vaccum pump. The vaccum must not rise above 500 microns in 15 minutes.
        </PhotoInput>
        ## Refrigerant Adjustments
        <PhotoInput id="refrigerant_adjustments_if_applicable_photo" label="Refrigerant Adjustments (if applicable) – Photo">
            Take a photo of the scale readout and calculations for the refrigerant charge adjustment.
        </PhotoInput>
        | Additional Refrigerant Calculator
        | ---------------------------------
        | <NumberInput label="Feet of line set beyond factory charge" min={0} path="refrigerant_calculator.ft_line_set_beyond_factory_charge" hint=""  /> 
        | <NumberInput label="Ounce of refrigerant per foot of line set" min={0} path="refrigerant_calculator.oz_per_ft_refrigerant" hint="" /> 
        |  Ounces of additional refrigerant = {(props.data?.refrigerant_calculator?.ft_line_set_beyond_factory_charge && props.data?.refrigerant_calculator?.oz_per_ft_refrigerant) ? props.data.refrigerant_calculator.ft_line_set_beyond_factory_charge  * props.data.refrigerant_calculator.oz_per_ft_refrigerant : null}
        <StringInput label="Notes about refrigerant quantity adjustments or weigh in" path="comments_refrigerant_quantity_adjustments_or_weigh_in" />
        ## Protection
        <PhotoInput id="line_set_protection_photo" label="Line Set Protection – Photo">
           Take a photo of the line set and line set wall penetration protection.
        </PhotoInput>
        ## Plenum connections
         <PhotoInput id="plenum_connections_photo" label="Plenum Connections – Photo">
            Take a photo of the supply and return plenum connections to the air handler cabinet showing they have been sealed, insulated and have a vapor barrier.
        </PhotoInput>
    </Tab>
    <Tab eventKey="post_install" title="Post-Installation">
        ## Post-install Airflow Test
        <PhotoInput id="post_install_air_flow_test_setup_photo" label="Post-Install Airflow Test Setup – Photo">
            Take a photo of the post-installation airflow test setup.
        </PhotoInput>
         <PhotoInput id="post_install_air_flow_test_results_photo" label="Post-Install Airflow Test Results – Photo">
            Take a photo of the post-installation airflow test results.
        </PhotoInput>
         ## Post-install Static Pressure Test
        <PhotoInput id="post_install_static_pressure_test_photo" label="Post-Install Static Pressure Test Setup – Photo">
            Take a photo of the static pressure test setup showing the tap placement.
        </PhotoInput>
        <PhotoInput id="post_install_static_pressure_results_photo" label="Post-Install Static Pressure Test Results – Photo">
            Take a photo of the manometer readout showing the total external static pressure. 
        </PhotoInput>
        ## Thermostat Settings
        <PhotoInput id="thermostat_setting_photo" label="Thermostat Setting – Photo">
            Take a photo of the thermostat showing the temperature value set for the auxillary heat lockout, compressor lockout temperature, and dual fuel switch over temperature as applicable.
        </PhotoInput>
        <StringInput label="Notes about thermostat settings" path="comments_about_thermostat_settings" />
        ## Mechanical Ventilation
        If the addition of supply based mechanical ventilation is included in the heat pump upgrade. Use the mechanical 
        ventilation quality installation workflow to document that installation. 

        ## Combustion Safety Testing
        If an atmospherically vented appliance will remain in the home after this heat pump installation work has been completed,
        a combustion safety testing has to be performed. Please use the combustion safety documentation workflow to document the combustion safety test results.

    </Tab>
    <Tab eventKey="report" title="Report">
         <File id="manual_j_file" label="PDF of Manual J - File" />
        


         <PrintSection label="Print Report">
            ---
            # Central Ducted Split Heat Pump Upgrade
            ## Photo Report

            <ProjectInfoReport {...props} />
        
            <Photo id="building_number_photo" label="Building Number" required>
                A photo of the building showing the building number.
            </Photo>
            ## About the Report:
            This report is intended to document:
            1. The critical tests for evaluating the ductwork in a home to determine what, if any, duct
            repairs or upgrades are needed so that the upgrade to a heat pump yields the expected
            efficiency benefits.
            2. The home’s heating and cooling loads.
            3. The heat pump equipment selection.
            4. The heat pump installation.
            
            A successful central ducted split heat pump installation starts with well-sealed, insulated, and
            correctly sized ductwork, and careful equipment planning and selection. Proper installation and
            commissioning are paramount to ensuring maximum equipment efficiency and a long troublefree equipment life.
            The photo requirements in this document record the key steps to ensure
            success. It is strongly recommended a printed copy of this report be attached to the air handler
            as a record to help future home energy raters and HVAC techs.
            
            ## About Atmospherically Vented Water Heaters
            If there there are atmospherically vented appliances inside the home after the heat pump installation, a combustion safety 
            test should have been performed to test for backdrafting. Please refer to the combustion safety documentation report if such a test was performed at this house.
            
            ## Acronyms
            ODU – Outdoor Unit <br/>
            IDU – Outdoor Unit

            ## Pre-Upgrade Tests
            
            <Photo id="existing_duckwork_photo" label="Ductwork – Photo" required>
                Photo of existing ductwork condition
            </Photo>        
            {
                props.data.comments_ductwork
                ? <p><strong>Ductwork Comments:</strong> {props.data.comments_ductwork}</p> 
                : null
            }

            ## Static Pressure Test Results
            Total external static pressure measurement: This measurement is akin to taking the blood pressure of a person. 
            Having high blood pressure is an indicator of poor health. The same is true for a HVAC system. For an HVAC system, 
            having a total external static pressure value of 0.5 i.w.c or less is good. The ducts can be repaired or upgraded 
            to bring a high value down to a healthy value. 

            <Photo id="preupgrade_static_pressure_test_photo" label="Pre-Upgrade Static Pressure Test – Photo" required>
                Photo of the manometer readout or screenshot from digital instrument app
            </Photo>   
            {
                props.data.comments_pre_upgrade_static_pressure_test
                ? <p><strong>Pre-Upgrade Static Pressure Test Notes: </strong> {props.data.comments_pre_upgrade_static_pressure_test}</p> 
                : null
            }

            ## Airflow Test Results
            In order for a heat pump to efficiently and effectively deliver the conditioned air to the house, 
            the ducts need to be able to move enough air. This test uses the home's existing air handler to measure how much air the ducts can move. 
            If they cannot move enough air, the ducts will need to be repaired or upgraded so that they can move enough air.  
            <Photo id="pre_upgrade_air_flow_test_setup_photo" label="Pre-Upgrade Airflow Test Setup – Photo" required>
                Photo of the airflow test setup
            </Photo>   
            <Photo id="pre_upgrade_air_flow_test_results_photo" label="Pre-Upgrade Airflow Results – Photo" required>
                Photo of the manometer CFM or upload a screenshot of the instrument app
            </Photo>  
            {
                props.data.comments_pre_upgrade_air_flow_test
                ? <p><strong>Pre-Upgrade Airflow Test Notes: </strong> {props.data.comments_pre_upgrade_air_flow_test}</p> 
                : null
            }

             ## Duck Leakage Test Results
             Leaky ducts mean the conditioned air doesn't make it to the rooms where the conditioned air is needed. 
             The worse kind of duct leakage is leakage to outside because that means the air you paid to conditioned 
             is leaking outside the house. The duct leakage test measures how leaky 
             the ducts are. Newly constructed homes have a duct leakage limit of 4 CFM25 per 100 ft<sup>2</sup> of conditioned floor area. 
             In existing construction it is highly recommended that action be taken to reduce duct leakage if 
             the duct leakage test finds the leakage rate to be greater than 12 CFM25 per 100 ft<sup>2</sup> of conditioned floor area. 
            <Photo id="duct_test_setup_photo" label="Duct Test Setup – Photo">
                Photo of duct test setup showing ring size and how it is attached to the duct system.
            </Photo>   
            <Photo id="duct_leakage_cfm_photo" label="Duct Leakage CFM – Photo">
                Photo of duct leakage test manometer, CFM at 25 Pa
            </Photo>  

            {
                props.data.type_of_duct_leakage_radio
                ? <p><strong> Type Of Duct Leakage Test Performed: </strong> {props.data.type_of_duct_leakage_radio}</p> 
                : null
            } 
            
            <p><strong>CFM25 =</strong>{props.data.cfm25_calculator?.cfm25 ? props.data.cfm25_calculator.cfm25 : null}</p>
            <p><strong>Conditioned Floor Area (ft<sup>2</sup>) = </strong>{props.data.cfm25_calculator?.conditioned_floor_area ? props.data.cfm25_calculator.conditioned_floor_area : null} </p>
            <p><strong>Duct CFM25 per 100 per ft<sup>2</sup> = </strong>{ props.data.cfm25_calculator?.cfm25 && props.data.cfm25_calculator?.conditioned_floor_area ? ((props.data.cfm25_calculator.cfm25 / props.data.cfm25_calculator.conditioned_floor_area) * 100).toFixed(2) : null } </p>
            
           

           
            ## Planning
            <Photo id="proposed_odu_install_location_photo" label="Proposed ODU Install Location – Photo">
               Photo of proposed ODU install location
            </Photo>  
            {
                props.data?.outdoor_unit?.odu_mounting_style
                ? <p><strong>ODU Mounting Style: </strong> {props.data.outdoor_unit.odu_mounting_style}</p> 
                : null
            }
            {
                props.data.outdoor_unit?.odu_inches_above_ground
                ? <p><strong>ODU Inches Above The Ground (elevated above the snow): </strong> {props.data.outdoor_unit.odu_inches_above_ground}</p> 
                : null
            }
            {
                props.data.outdoor_unit?.snow_ice_protection
                ? <p><strong>Overhead Snow & Ice Protection: </strong> {props.data.outdoor_unit.snow_ice_protection}</p> 
                : null
            }
            {
                props.data.comments_manual_j
                ? <p><strong>Manual J Notes or Comments: </strong> {props.data.comments_manual_j}</p> 
                : null
            }
            
            <Photo id="mfg_extended_heating_performance_table_photo" label="MFG's Heating Performance Table – Photo" required>
                Screenshot of MFG's extended heating performance table
            </Photo>
            {
                props.data.aux_heat_lockout_temperature
                ? <p><strong>Aux Heat Lockout Above This Temperature (&deg;F): </strong> {props.data.aux_heat_lockout_temperature}</p> 
                : null
            }
            {
                props.data.compresser_lockout_temperature
                ? <p><strong>Compresser Lockout Below This Temperature (&deg;F): </strong> {props.data.compresser_lockout_temperature}</p> 
                : null
            }
            {
                props.data.dual_fuel_switch_over_temperature
                ? <p><strong>Dual Fuel Switch Over Temperature (&deg;F): </strong> {props.data.dual_fuel_switch_over_temperature}</p> 
                : null
            }
           
            <Photo id="mfg_extended_cooling_performance_table_photo" label="MFG's cooling performance table – Photo" required>
                Screenshot of MFG's extended cooling performance table showing sensible, latent, or SHR
            </Photo>
            
            {
                props.data.comments_ductwork_concluding_summary
                ? <p><strong>Ductwork Concluding Comments: </strong> {props.data.comments_ductwork_concluding_summary}</p> 
                : null
            }

            ## Installation
            <Photo id="odu_nameplate_photo" label="ODU nameplate – Photo" required />
            <Photo id="idu_nameplate_photo" label="IDU nameplate – Photo" required />
            <Photo id="odu_circuit_breaker_photo" label="ODU circuit breaker – Photo">
                Photo showing the ampacity of the breaker
            </Photo>
            <Photo id="idu_circuit_breaker_photo" label="IDU circuit breaker – Photo">
                Photo showing the ampacity of the breaker
            </Photo>
            {
                props.data.comment_circuit_breaker_notes
                ? <p><strong>Circuit Breaker Notes: </strong> {props.data.comment_circuit_breaker_notes}</p> 
                : null
            }

            <Photo id="nitrogen_pressure_test_photo" label="Nitrogen Pressure Test – Photo" required>
                Gauge readable in the image. Test to 400 psi or MFG's instructions. Use a digital pressure gauge.
            </Photo>
            <Photo id="vaccum_decay_test_setup_photo" label="Vacuum Decay Test Setup – Photo">
                Picture of the vacuum decay test setup
            </Photo>
            <Photo id="vaccum_decay_test_results_photo" label="Vacuum Decay Test Results – Photo">
                Picture of the vacuum decay test results. Use a digital micron gauge
            </Photo>
            <Photo id="refrigerant_adjustments_if_applicable_photo" label="Refrigerant Adjustments (if applicable) – Photo">
                Photo of scale readout and calculations for refrigerant charge adjustment
            </Photo>
            {
                props.data.comments_refrigerant_quantity_adjustments_or_weigh_in
                ? <p><strong>Notes About Refrigerant Quantity Adjustments Or Weigh In: </strong> {props.data.comments_refrigerant_quantity_adjustments_or_weigh_in}</p> 
                : null
            }
            <Photo id="line_set_protection_photo" label="Line Set Protection – Photo">
                Photo of the line set and line set wall penetration protection
            </Photo>
            <Photo id="plenum_connections_photo" label="Plenum Connections – Photo">
                Supply and return plenum connections to air handler cabinet sealed, insulated, and vapor barrier
            </Photo>

            ## Post-Installation
           
            <Photo id="post_install_air_flow_test_setup_photo" label="Post-Install Airflow Test Setup – Photo" required>
                Photo of the post-installation airflow test setup
            </Photo>

             <Photo id="post_install_air_flow_test_results_photo" label="Post-Install Airflow Test Results – Photo" required>
                Photo of the post-installation airflow test results
            </Photo>

            <Photo id="post_install_static_pressure_test_setup_photo" label="Post-Install Static Pressure Test Setup – Photo" required>
                Photo of the post-installation static presure test setup
            </Photo>
            <Photo id="post_install_static_pressure_test_results_photo" label="Post-Install Static Pressure Test Results – Photo" required>
                Photo of the post-installation static presure test results
            </Photo>
            
            <Photo id="thermostat_setting_photo" label="Thermostat Setting – Photo" required>
                Photo of thermostat setting for auxiliary heat lockout or dual fuel switch over temperature.
            </Photo>

            {
                props.data.comments_about_thermostat_settings
                ? <p><strong>Post-Installation Notes About Thermostat Settings: </strong> {props.data.comments_about_thermostat_settings}</p> 
                : null
            }
            
        </PrintSection>
    </Tab>
</Tabs>