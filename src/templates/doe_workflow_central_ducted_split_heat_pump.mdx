<Tabs>
    <Tab eventKey="project" title="Project">
        The data for this tab should be known prior to the initial site visit.
        <ProjectInfoInputs {...props} />   
    </Tab>
    <Tab eventKey="assessment" title="Assessment">
        ## Building 
        <PhotoInput id="building_number_photo" label="Building Number – Photo">
            Provide a photo of the building that shows the building number
        </PhotoInput>

         

        ## Visual Assessment of the Ductwork
        If the ducts will be entirely replaced or the visual inspection found significant duct upgrades and 
        repairs are needed: 
        - Make notes and skip performing a duct leakage test at the initial phase 
        - Perform the duct leakage test post upgrades and repairs to verify the ducts are sufficiently airtight 
        <PhotoInput id="existing_duckwork_photo" label="Ductwork – Photo">
            Provide a representative photo of the existing ductwork condition.
        </PhotoInput>        
        <StringInput label="Ductwork Comments" path="comments_duckwork" />
        

        ## Static Pressure Test
        Total external static pressure measurement
        <PhotoInput id="preupgrade_static_pressure_test_photo" label="Pre-upgrade Static Pressure Test – Photo">
            Take a photo of the manometer readout or screenshot from digital instrument app.
        </PhotoInput>   
        <StringInput label="Comment on remediation plans if total external static pressure is above 0.5 i.w.c" path="comments_pre_upgrade_static_pressure_test" />
       

        ## Air Flow Test
        Use flow plate test OR the pressure matching technique
        <PhotoInput id="pre_upgrade_air_flow_test_setup_photo" label="Pre-Upgrade Air Flow Test Setup – Photo">
            Take a photo of the air flow test setup.
        </PhotoInput> 
        <PhotoInput id="pre_upgrade_air_flow_test_results_photo" label="Pre-Upgrade Air Flow Results – Photo" >
            Take a photo of the manometer CFM or upload a screenshot of the instrument app.
        </PhotoInput>   
        <StringInput label="Comment on remediation plan if flow is much lower than 400 CFM per ton" path="comments_pre_upgrade_air_flow_test" />

        ## Duct Leakage Testing
        If the ducts will be entirely replaced or the visual inspection found significant duct upgrades and 
        repairs are needed:
        - Make notes and skip performing a duct leakage test at the initial phase
        - Perform the duct leakage test post upgrades and repairs to verify the ducts are sufficiently airtight
        <PhotoInput id="duct_test_setup_photo" label="Duct Test Setup – Photo">
            Take a photo of the duct test setup showing ring size and how it is attached to the duct system.
        </PhotoInput>   
        <PhotoInput id="duct_leakage_cfm_photo" label="Duct Leakage CFM – Photo">
            Take a photo of the duct leakage test manometer, CFM at 25 Pa.
        </PhotoInput>   
        
        | CFM25 per 100 ft<sup>2</sup> Calculator
        | ---------------------------------------
        | <NumberInput label="CFM25" min={0} path="cfm25_calculation.cfm25"  /> 
        | <NumberInput label="Conditioned Floor Area (ft&#178;)" min={0} path="cfm25_calculation.conditioned_floor_area"  /> 
        | CFM25 per 100 ft<sup>2</sup> = { props.data.cfm25_calculation?.cfm_at_25pa && props.data.cfm_calculation?.conditioned_floor_area ? ((props.data.cfm_calculation.cfm_at_25pa / props.data.cfm_calculation.conditioned_floor_area) * 100).toFixed(2) : null } 
        
        ## Type Of Test
        <Radio label="Type of duct leakage test performed" options={['Total Leakage','Leakage to Outside']} path="leakage_radio" />

        
    </Tab>
     <Tab eventKey="planning" title="Planning">
       ## Planned Install Location
        <PhotoInput id="proposed_odu_install_location_photo" label="Proposed ODU Install Location – Photo">
            Photo of proposed ODU install location
        </PhotoInput>  
        <Radio label="ODU Mounting Style" options={['Pad','Ground Stand','Wall Mount','Roof Mount']} path="mounting_style" />

        <NumberInput label="ODU Inches Above The Ground (elevated above the snow)" min={0} path="odu_inches_above_ground" /> 
       
        <Radio label="Overhead Snow & Ice Protection" options={['Awning/Cover','None']} path="leakage_radio" />
       
        ## Manual J Calculation
        <Collapsible header="Manual J Calculation Details">
            Correctly sizing the heat pump for the home’s heating and cooling needs is much more
            important for a heat pump than for a furnace and AC system. Use ACCA-approved Manual J
            residential load calculation software. It is recommended that the Manual J calculations be
            performed with the home occupant that knows the most about the home present to help
            determine the most accurate values to enter. Ask the home occupant whether any rooms
            presently get too hot or cold. 
        </Collapsible>

        <FileInput id="manual_j_file" label="Full Manual J Report Attachment - File">
                File Types Accepted: PDF
        </FileInput>
        <StringInput label="Manual J Notes or Comments" path="comments_manual_j" />
        
        ## Equipment Performance Tables
        <PhotoInput id="screenshot_of_mfg_extended_heating_performance_table_photo" label="MFG's Heating Performance Table – Photo" allowUpload>
            Upload a photo of the MFG's extended heating performance table
        </PhotoInput>
         <NumberInput label="Aux Heat Lockout Above This Temperature (&deg;F)" min={0} path="aux_heat_lockout_temperature" /> 
        <NumberInput label="Compresser Lockout Below This Temperature (&deg;F)" min={0} path="compresser_lockout_temperature" /> 
        <NumberInput label="Dual Fuel Switch Over Temperature (&deg;F)" min={0} path="dual_fuel_switch_over_temperature" /> 

        <PhotoInput id="screenshot_of_mfg_extended_cooling_performance_table_photo" label="MFG's cooling performance table – Photo" allowUpload>
            Upload a photo of the MFG's extended cooling performance table showing sensible, latent, or SHR
        </PhotoInput>
        
        ## Pre-installation Additional Comments
        <StringInput label="Additional Comments" path="comments_ductwork_concluding_summary"  hint="Eg: Return air filter grille upsizing" />
    </Tab>
    <Tab eventKey="installation" title="Installation">
        <DateInput label="Installation Date" path="install_date" />
        ## Equipment
        <PhotoInput id="odu_nameplate_photo" label="ODU nameplate – Photo" />
        <PhotoInput id="idu_nameplate_photo" label="IDU nameplate – Photo" />
        ## Electrical
        <PhotoInput id="odu_circuit_breaker_photo" label="ODU circuit breaker – Photo">
            Photo showing the ampacity of the breaker
        </PhotoInput>
        <PhotoInput id="idu_circuit_breaker_photo" label="IDU circuit breaker – Photo">
            Photo showing the ampacity of the breaker
        </PhotoInput>
        ## Circuit breaker notes
        <StringInput label="Ex: wire size modifications, or shared or repurposed circuits." path="comment_circuit_breaker_notes" />
        ## Installation Tests
        <PhotoInput id="nitrogen_pressure_test_setup_photo" label="Nitrogen Pressure Test Setup – Photo">
            Photo of the nitrogen pressure test setup
        </PhotoInput>
        <PhotoInput id="nitrogen_pressure_test_result_photo" label="Nitrogen Pressure Decay Test Results – Photo">
            Gauge readable in the image. Test to 500 psi or MFG's instructions. Use a digital temperature compensated pressure gauge setup. Not more than 2 psi decay in 10 minutes.
        </PhotoInput>
        <PhotoInput id="vaccum_decay_test_setup_photo" label="Vacuum Decay Test Setup – Photo">
            Photo of the vacuum decay test setup
        </PhotoInput>
        <PhotoInput id="vaccum_decay_test_results_photo" label="Vacuum Decay Test Results – Photo">
            Photo of the vacuum decay test results. Use a digital micron gauge. System must be isolated from vaccum pump. Vaccum must not rise above 500 microns in 15 minutes.
        </PhotoInput>
        ## Refrigerant Adjustments
        <PhotoInput id="refrigerant_adjustments_if_applicable_photo" label="Refrigerant Adjustments (if applicable) – Photo">
            Photo of scale readout and calculations for refrigerant charge adjustment.
        </PhotoInput>
        | Additional Refrigerant Calculator
        | ---------------------------------
        | <NumberInput label="Ft of line set beyond factory charge" min={0} path="refgrierant_calculator.ft_line_set_beyond_factory_charge"  /> 
        | <NumberInput label="Ounce/ft of refrigerant" min={0} path="refgrierant_calculator.oz_per_ft_refrigerant"  /> 
        |  Ounces of additiona refrigerant = {(props.data?.refgrierant_calculator?.ft_line_set_beyond_factory_charge && props.data?.refgrierant_calculator?.oz_per_ft_refrigerant) ? props.data.refgrierant_calculator.ft_line_set_beyond_factory_charge  * props.data.refgrierant_calculator.oz_per_ft_refrigerant : null}
        <StringInput label="Notes about refrigerant quantity adjustments or weigh in" path="comments_refrigerant_quantity_adjustments_or_weigh_in" />
        ## Protection
        <PhotoInput id="line_set_protection_photo" label="Line Set Protection – Photo">
            Photo of the line set and line set wall penetration protection.
        </PhotoInput>
        ## Plenum connections
         <PhotoInput id="plenum_connections_photo" label="Plenum Connections – Photo">
            Supply and return plenum connections to air handler cabinet sealed, insulated, and vapor barrier.
        </PhotoInput>
    </Tab>
    <Tab eventKey="post_install" title="Post-Installation">
        ## Post-install Air Flow Test
        <PhotoInput id="post_install_air_flow_test_setup_photo" label="Post-Install Air Flow Test Setup – Photo">
            Post-install air flow test setup
        </PhotoInput>
         <PhotoInput id="post_install_air_flow_test_results_photo" label="Post-Install Air Flow Test Results – Photo">
            Post-install air flow test results
        </PhotoInput>
         ## Post-install Static Pressure Test
        <PhotoInput id="post_install_static_pressure_test_photo" label="Post-Install Static Pressure Test Setup – Photo" />
        ## Thermostat Settings
        <PhotoInput id="thermostat_setting_photo" label="Thermostat Setting – Photo">
            Thermostat setting for auxiliary heat lockout or dual fuel switch over temperature.
        </PhotoInput>
        <StringInput label="Notes about thermostat settings" path="comments_about_thermostat_settings" />
        ## Mechanical Ventilation
        If the addition of supply based mechanical ventilation is included in the heat pump upgrade. Use the mechanical 
        ventilation quality installation workflow to document that installation. 
    </Tab>
    <Tab eventKey="report" title="Report">
         <File id="manual_j_file" label="PDF of Manual J - File" />
        


         <PrintSection label="Print Report">
            ---
            # Central Ducted Split Heat Pump Upgrade
            ## Photo Report

            <ProjectInfoReport {...props} />
        
            <Photo id="building_number_photo" label="Building Number" required>
                A photo of the building showing the building number.
            </Photo>
            ## About the Report:
            This report is intended to document:
            1. The critical tests for evaluating the ductwork in a home to determine what, if any, duct
            repairs or upgrades are needed so that the upgrade to a heat pump yields the expected
            efficiency benefits.
            2. The home’s heating and cooling loads.
            3. The heat pump equipment selection.
            4. The heat pump installation.
            
            A successful gas furnace to electric heat pump upgrade starts with well-sealed, insulated, and
            correctly sized ductwork, and careful equipment planning and selection. Proper installation and
            commissioning are paramount to ensuring maximum equipment efficiency and a long troublefree equipment life.
            The photo requirements in this document record the key steps to ensure
            success. It is strongly recommended a printed copy of this report be attached to the air handler
            as a record to help future home energy raters and HVAC techs.
            
            ## About Home Performance
            Treating a home as a system is a core principle of the Home Performance program. This means
            recognizing the building science order of importance by managing and prioritizing health &
            safety > water > air > vapor > thermal in that order of importance. The program does not
            promote energy efficiency upgrades if the home needs other more important repairs,
            remediations, and upgrades first to uphold and protect this building science order of
            importance. The program prioritizes comfort and health as much as lower utility bills and
            increased energy performance.
            
            ## About Atmospherically Vented Water Heaters
            If this heat pump installation occurs in a home with an atmospherically vented water heater
            inside the conditioned envelope, please test for backdrafting under worse case
            depressurization conditions. The risk of a backdrafting is particularly high if the former heating
            system was a gas furnace that shared a vent pipe with the water heater. Please use the
            combustion safety documentation workflow to document the combustion safety test results.
            
            ## Acronyms
            ODU – Outdoor Unit <br/>
            IDU – Outdoor Unit

            ## Pre-Upgrade Tests
            
            <Photo id="existing_duckwork_photo" label="Ductwork – Photo" required>
                Photo of existing ductwork condition. 
            </Photo>        
            {
                props.data.comments_duckwork
                ? <p><strong>Ductwork Comments:</strong> {props.data.comments_duckwork}</p> 
                : null
            }

            Total external static pressure measurement
            <Photo id="preupgrade_static_pressure_test_photo" label="Pre-upgrade Static Pressure Test – Photo">
                Photo of the manometer readout or screenshot from digital instrument app.
            </Photo>   
            {
                props.data.comments_pre_upgrade_static_pressure_test
                ? <p><strong>Pre-Upgrade Static Pressure Test Notes: </strong> {props.data.comments_pre_upgrade_static_pressure_test}</p> 
                : null
            }

            <Photo id="pre_upgrade_air_flow_test_setup_photo" label="Pre-Upgrade Air Flow Test Setup – Photo">
                Photo of manometer CFM or upload digital gauge app screenshot.
            </Photo>   
            {
                props.data.comments_pre_upgrade_static_pressure_test
                ? <p><strong>Pre-Upgrade Air Flow Test Notes: </strong> {props.data.comments_pre_upgrade_air_flow_test}</p> 
                : null
            }

            <Photo id="duct_test_setup_photo" label="Duct Test Setup – Photo">
                Photo of duct test setup showing ring size and how it is attached to the duct system.
            </Photo>   
            <Photo id="duct_leakage_cfm_photo" label="Duct Leakage CFM – Photo">
                Photo of duct leakage test manometer, CFM at 25 Pa.
            </Photo>   
            
            | CFM per 100 ft2
            | ---------------
            | CFM @ 25 Pa = {props.data.cfm_calculation?.cfm_at_25pa ? props.data.cfm_calculation?.cfm_at_25pa : null} 
            | Conditioned Floor Area = {props.data.cfm_calculattion?.conditioned_floor_area ? props.data.cfm_calculattion?.conditioned_floor_area : null} 
            | CFM per 100 ft2 = { props.data.cfm_calculation?.cfm_at_25pa && props.data.cfm_calculattion?.conditioned_floor_area ? (props.data.cfm_calculation.cfm_at_25pa / props.data.cfm_calculattion.conditioned_floor_area) * 100 : null } 
            
            Total Leakage: {props.data?.leakage?.total_leakage_radio ? props.data.leakage.total_leakage_radio: null}

            Leakage To Outside: {props.data?.leakage?.leakage_to_outside_radio ? props.data.leakage.leakage_to_outside_radio: null}
           
            ## Planning
            <Photo id="proposed_odu_install_location_photo" label="Proposed ODU Install Location – Photo">
               Photo of proposed ODU install location
            </Photo>  
            {
                props.data.comments_installation_notes
                ? <p><strong>Install Location Notes: </strong> {props.data.comments_installation_notes}</p> 
                : null
            }
            
            <Photo id="screenshot_of_manual_j_calculation_photo" label="Screenshot of Manual J Calculations – Photo" required>
                Attach a screenshot of Manual J load calculations.
            </Photo>
            {
                props.data.comments_manual_j
                ? <p><strong>Manual J Notes or Comments: </strong> {props.data.comments_manual_j}</p> 
                : null
            }
            
            <Photo id="screenshot_of_mfg_extended_heating_performance_table_photo" label="MFG's Heating Performance Table – Photo" required>
                Screenshot of MFG's extended heating performance table
            </Photo>
            {
                props.data.comments_heating_performance_notes
                ? <p><strong>Heating Performance Notes: </strong> {props.data.comments_heating_performance_notes}</p> 
                : null
            }
           
            <Photo id="screenshot_of_mfg_extended_heating_performance_table_photo" label="MFG's cooling performance table – Photo" required>
                Screenshot of MFG's extended cooling performance table showing sensible, latent, or SHR
            </Photo>
            
            {
                props.data.comments_ductwork_concluding_summary
                ? <p><strong>Ductwork Concluding Comments: </strong> {props.data.comments_ductwork_concluding_summary}</p> 
                : null
            }

            ## Installation
            <Photo id="odu_nameplate_photo" label="ODU nameplate – Photo" required />
            <Photo id="idu_nameplate_photo" label="IDU nameplate – Photo" required />
            <Photo id="odu_circuit_breaker_photo" label="ODU circuit breaker – Photo">
                Photo showing the ampacity of the breaker
            </Photo>
            <Photo id="idu_circuit_breaker_photo" label="IDU circuit breaker – Photo">
                Photo showing the ampacity of the breaker
            </Photo>
            {
                props.data.comment_circuit_breaker_notes
                ? <p><strong>Circuit Breaker Notes: </strong> {props.data.comment_circuit_breaker_notes}</p> 
                : null
            }

            <Photo id="nitrogen_pressure_test_photo" label="Nitrogen Pressure Test – Photo" required>
                Gauge readable in the image. Test to 400 psi or MFG's instructions. Use a digital pressure gauge.
            </Photo>
            <Photo id="vaccum_decay_test_setup_photo" label="Vacuum Decay Test Setup – Photo">
                Picture of the vacuum decay test setup
            </Photo>
            <Photo id="vaccum_decay_test_results_photo" label="Vacuum Decay Test Results – Photo">
                Picture of the vacuum decay test results. Use a digital micron gauge.
            </Photo>
            <Photo id="refrigerant_adjustments_if_applicable_photo" label="Refrigerant Adjustments (if applicable) – Photo">
                Photo of scale readout and calculations for refrigerant charge adjustment.
            </Photo>
            {
                props.data.comments_refrigerant_quantity_adjustments_or_weigh_in
                ? <p><strong>Notes About Refrigerant Quantity Adjustments Or Weigh In: </strong> {props.data.comments_refrigerant_quantity_adjustments_or_weigh_in}</p> 
                : null
            }
            <Photo id="line_set_protection_photo" label="Line Set Protection – Photo">
                Photo of the line set and line set wall penetration protection.
            </Photo>
            <Photo id="plenum_connections_photo" label="Plenum Connections – Photo">
                Supply and return plenum connections to air handler cabinet sealed, insulated, and vapor barrier.
            </Photo>

            ## Post-Installation
            <Photo id="post_install_air_flow_test_results_photo" label="Post-Install Air Flow Test Results – Photo">
                Post-install air flow test results
            </Photo>

            <Photo id="post_install_air_flow_test_setup_photo" label="Post-Install Air Flow Test Setup – Photo">
                Post-install air flow test setup
            </Photo>
            <Photo id="post_install_static_pressure_test_photo" label="Post-Install Static Pressure Test Setup – Photo" />
            
            
            <Photo id="thermostat_setting_photo" label="Thermostat Setting – Photo">
                Thermostat setting for auxiliary heat lockout or dual fuel switch over temperature.
            </Photo>

            {
                props.data.comments_about_thermostat_settings
                ? <p><strong>Post-Installation Notes About Thermostat Settings: </strong> {props.data.comments_about_thermostat_settings}</p> 
                : null
            }
           
            | Mechanical Ventilation
            | ----------------------
            | Conditioned Floor Area = {props.data?.cfm_of_ventilation_calculation?.conditioned_floor_area ? props.data?.cfm_of_ventilation_calculation?.conditioned_floor_area : null}  
            | Number of Bedrooms = {props.data?.cfm_of_ventilation_calculation?.number_of_bedrooms ? props.data?.cfm_of_ventilation_calculation?.number_of_bedrooms : null}
            | CFM of ventilation required = 7.5 
            <Photo id="mechanical_ventilation_photo" label="Mechanical Ventilation – Photo">
                Photo of the mechanical ventilation controller settings if MV was included/added as part of the upgrade.
            </Photo>

            {
                props.data.comments_refrigerant_quantity_adjustments_or_weigh_in
                ? <p><strong>Notes About The Mechanical Ventilation: </strong> {props.data.comments_about_about_maintenance_and_filter_size}</p> 
                : null
            }            
        </PrintSection>
    </Tab>
</Tabs>