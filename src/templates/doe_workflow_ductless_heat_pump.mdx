<Tabs>
    <Tab eventKey="project" title="Project">
        The data for this tab should be known prior to the initial site visit.

        <ProjectInfoInputs {...props} />   

    </Tab>
    <Tab eventKey="pre_installation" title="Pre-Installation">
        The data for this tab should be collected during the initial site visit.
        
        <PhotoInput id="building_number_photo" label="Building Number – Photo">
            Provide a photo of the building that shows the street number.
        </PhotoInput>

        <Collapsible header="Proposed Outdoor Unit">
            Enter how the outdoor unit (ODU) will be installed and the location's average snow depth, the outdoor unit 
            should be installed above the snow depth. The customer may also have knowledge on how high the snow 
            typically gets at the planned heat pump location.
            <PhotoInput id="proposed_odu_location_photo" label="Proposed ODU Location – Photo">
                Picture of the proposed heat pump outdoor unit(ODU) installation location. 
            </PhotoInput>

            <Select label="ODU will be installed on a" path="outdoor_unit.install_location" options={['Pad','Gound Stand','Wall Mount','Roof Mount']} />

            <NumberInput label="Average Snow Depth (in)" min={0} path="outdoor_unit.average_snow_depth"  />
            
            <TextInput  label="ODU Installation Location Comments" path="comment_odu_install_location" />

        </ Collapsible>
        <Collapsible header="Proposed Indoor Unit">
            Picture of the proposed indoor unit (IDU) installation location, if there are more than one IDU
            installation locations, write in the notes describing the others.
            
            <PhotoInput id="proposed_idu_location_photo" label="Proposed IDU Location – Photo">
                Picture of the proposed heat pump outdoor unit(ODU) installation location. 
            </PhotoInput>
            
            <TextInput  label="IDU Location Comments" path="comment_odu_location" />
        </ Collapsible>
       
        <PhotoInput id="floor_plan_sketch_photo" label="Floor Plan Sketch – Photo">
            Picture or screenshot of a floor plan sketch (hand sketched is ok) showing the area each ductless heat pump will serve.
        </PhotoInput>

        <Collapsible header="Manual J Calculation">
            <p> If the ductless heat pump will be used a primary heating and cooling equipment for the home
            correctly sizing the equipment for the home’s heating and cooling needs is much more
            important for a heat pump than for a furnace and AC system. Use an ACCA-approved Manual J
            residential load calculation software. It is recommended that the Manual J calculations be
            performed with the home occupant that knows the most about the home present to help
            determine the most accurate values to enter. For example, ask the home occupant whether any
            rooms presently get too hot or cold, and whether any window or insulation upgrades were
            done in the past. </p>
            
            <PhotoInput id="screenshot_of_manual_j_calculation_photo" label="Screenshot of Manual J Calculations – Photo">
                Attach a screenshot of Manual J load calculations showing design conditions, conditioned square footage, 
                and the heating and cooling load calculations.
            </PhotoInput>

            <FileInput id="manual_j_file" label="PDF of Manual J - Files">
                 File Types Accepted: PDF,XLS
            </FileInput>
           
        </ Collapsible>

        <Collapsible header="Equipment Selection">
            
            <PhotoInput id="heating_performance_table_photo" label="Heating Performance Table Screenshot – Photo">
                Attach a screenshot of the manufacturer’s heating performance table for the heat pump make and model 
                selected showing the total capacity and input energy used versus outdoor temperature. If not available, 
                use the data from the Northeast Energy Efficiency Partnership’s Air Source Heat Pump List.
            </PhotoInput>

            <PhotoInput id="cooling_performance_table_photo" label="Cooling Performance Table Screenshot – Photo">
                Attach a screenshot of the manufacturer’s cooling performance table for the heat pump make
                and model selected showing the sensible versus total cooling capacity at the design conditions.
            </PhotoInput>

        </ Collapsible>

    </Tab>
    <Tab eventKey="installation" title="Installation">
       
        <DateInput label="Installation Date" path="install_date" />
       
        <PhotoInput id="odu_name_plate_photo" label="ODU Name Plate – Photo">
            Picture of the outdoor unit name plate.
        </PhotoInput>
        
        <PhotoInput id="idu_name_plate_photo" label="IDU Name Plate – Photo">
            Picture of the indoor unit name plate.
        </PhotoInput>

        <PhotoInput id="circuit_breaker_amperage_photo" label="Circuit Breaker Amperage – Photo">
            Picture of the circuit breaker ampacity serving the ductless heat pump.
        </PhotoInput>

        <PhotoInput id="flare_tested_in_a_flare_guage_photo" label="Flare Tested In A Flare Gauge – Photo">
            Picture of one flare tested in a flare gauge, please test each flare using a flare gauge (one example photo).
        </PhotoInput>

        <PhotoInput id="torque_wrench_setting_photo" label="Torque Wrench Setting – Photo">
            Picture of the torque wrench set to the correct setting for the line set (one example).
        </PhotoInput>

        <PhotoInput id="nitrogen_pressure_test_setup_photo" label="Nitrogen Pressure Test Setup – Photo">
            Picture of the nitrogen pressure test setup, gauge at pressure readable in image, 
            use a digital pressure gauge. Test for a minimum of 15 mins.
        </PhotoInput>

        <PhotoInput id="pressure_test_result_photo" label="Pressure Test Results – Photo">
            Picture or screenshot of the temperature compensated pressure test results. Use a digital
            pressure gauge. Test for at least 10 minutes.
        </PhotoInput>

        <PhotoInput id="vacuum_setup_photo" label="Vacuum Setup – Photo">
            Picture of the vacuum/evacuation setup, use of core removal tool and minimize number of fittings.
        </PhotoInput>

        <PhotoInput id="vacuum_decay_test_results_photo" label="Vacuum Decay Test Results – Photo">
            Picture of the micron gauge read out or graph showing vacuum decay test result with vacuum pump 
            isolated from the system. Perform vacuum decay test for a minimum of 15 mins.
        </PhotoInput>

        <PhotoInput id="installation_manuals_line_set_compensation_instructions_photo" label="Picture of the Installation Manual's Line Set Compensation Instructions – Photo">
            Picture of the installation manual showing what oz/ft to add and at what line set length to 
            begin needing to add refrigerant to correct for the long line set. 
        </PhotoInput>

        <PhotoInput id="refrigerant_add_or_trim_photo" label="Refrigerant Add/Trim – Photo">
            Picture of the refrigerant scale readout showing it matches targeted weight of 
            refrigerant to add (if applicable).
        </PhotoInput>

        <TextInput  label="Notes About Refridgerant Adjustment" path="comment_refridgerant_adjustment" />

        | Oz of refrigerant to add on top of factory charge
        | --------------------------------------------------
        | <NumberInput label="Number of ft of line set beyond factory charge" min={0} path="oz_refrigerant_calculation.number_of_ft_line_beyond_factory_charge"  /> 
        | <NumberInput label="Oz / per ft of additional line set" min={0} path="oz_refrigerant_calculation.oz_refrigerant_to_add_per_ft"  /> 
        | Oz to add= { props.data.oz_refrigerant_calculation?.number_of_ft_line_beyond_factory_charge && props.data.oz_refrigerant_calculation?.oz_refrigerant_to_add_per_ft ? (props.data.oz_refrigerant_calculation.number_of_ft_line_beyond_factory_charge * props.data.oz_refrigerant_calculation?.oz_refrigerant_to_add_per_ft) : null } 

        <PhotoInput id="line_set_protection_photo" label="Line Set Protection – Photo">
            Picture of the outdoor section of the refrigerant line set as it enters the building showing the 
            line set insulation has been protected from weather and UV. 
        </PhotoInput>

    </Tab>
    <Tab eventKey="report" title="Report">
        
        <File id="manual_j_file" label="PDF of Manual J - Files" />
                

        <PrintSection label="Print Report">
            ---
            # Ductless Heat Pump Quality Installation Documentation Report

            <ProjectInfoReport {...props} />
        
            <Photo id="building_number_photo" label="Building Number" required>
            A photo of the building showing the building number.
            </Photo>

            ## About the Report
            This report is intended to document the critical tests and details spanning from the planning,
            sizing, and equipment selection step for a ductless heat pump to the completed installation.
            
            ## About Home Performance
            Treating a home as a system is a core principle of the home performance program. This means
            health and safety is the most important and thus matters that affect it need to be addressed
            first and foremost. Next in the order of importance is to ensure the home is properly managing
            bulk water from rain, snow, or groundwater since bulk water entering where it should not will
            rapidly cause mold and moisture damage to building materials. Next in the order of importance
            is to ensure the home doesn’t have significant air leakages which carries with it humidity that
            can condense and cause mold and moisture damage to building materials. While comfort and
            energy efficiency of the home are important, the aforementioned elements are more
            important. The program does not promote energy efficiency upgrades if the home needs more
            important repairs, remediations, and upgrades first to uphold and protect this building science
            order of importance and will ensure that any energy efficiency upgrade does not cause a health
            and safety problem to the home.
            
            ## About Ductless Heat Pumps
            If a home has ductwork and a central HVAC system, effort should be made to improve and/or
            repair the ductwork and/or replace the ductwork with new ductwork. Ductless heat pumps
            should be considered an appliance to be used only when a ducted option isn’t possible or
            where adding ductwork would be extremely difficult and cost prohibitive. The reason is because
            most ductless heat pumps are…
            1. Difficult and expensive (~$300 every year to few years) to deep clean (i.e. removing the
            blower wheel for cleaning) and
            2. Get dirty quickly due to (a) poor air filtration compared to a central system, and (b) in
            the high wall-mounted form factor design locates blower wheel in the supply air stream
            and thus in cooling mode, the blower wheel cools to dew point attracting dust.
            3. Comfort can be challenging if the air gets blown directly on people (too hot or cold, or
            dry eyes).
            4. For high wall-mounted form factor ductless indoor units, the set temperature and the
            experienced temperature will often be different due to the equipment’s room
            temperature sensor being located inside the unit which is positioned near the ceiling.
            Since warm air rises, it will be warmer near the ceiling than at head and chest level.
            Thus, in the heating season if the temperature on the remote is set to 72 F for example,
            the room at head and chest level will often be colder than 72 F. And in the cooling
            season, if the remote is set to 76 F for example, the room at head and chest level will
            often be colder than that. To compensate for this difference, one might need to set the
            temperature to 76 F in the heating season to achieve 72 F at head and chest level.
            There are a growing number of ductless heat pump models with features and designs that
            mitigate some or all these problems such as the ability to use a wall thermostat, or remotes
            with a temperature sensor built into the remote to mitigate the temperature sensor location
            issue of high wall-mounted form factor ductless indoor units.
            
            ## About Ductless Heat Pump Sizing
            While each room in a house has heating and cooling loads, ductless heat pump units are only
            available in sizes as small as 6000 BTU/h. Therefore, very small rooms such as bathrooms
            should not have a dedicated ductless indoor unit but rather receive heated/cooled air from a
            ductless heat pump unit nearby. A thru wall room to room transfer fan can be installed to help
            ensure even temperature. Some ductless indoor units have a side port designed for ducting
            some conditioned air to an adjacent room that is too small to have a dedicated indoor unit.
            
            ## About Ductless Heat Pumps Used as Supplemental Heating/Cooling
            If ductless heat pump will be used as supplemental heating and/or cooling in concert with a
            central system, be sure to not run the ductless heat pump in heating mode while the central
            system is in cooling mode or vice versa. Make sure every household member knows to check
            the mode of both the thermostat of the central system and the ductless heat pump remote
            when changing from heating to cooling or vice versa. The same applies to muti-split heat pumps
            (one outdoor unit serving multiple indoor units), make sure to not set one indoor unit to
            heating mode while the others are in cooling mode.
            
            ## Do not set Ductless Heat Pumps to Auto Mode
            Do not set ductless heat pumps to auto mode which will result in the equipment making
            frequent switches between heating mode and cooling mode resulting in large energy efficiency
            penalties and high energy bills.
            
            ## Acronyms
            ODU – Outdoor Unit <br/>
            IDU – Outdoor Unit

            ## Pre-Installation Photo Documents
            <Photo id="proposed_odu_location_photo" label="Proposed ODU Location – Photo" required>
                Picture of the proposed heat pump outdoor unit(ODU) installation location. 
            </Photo>
            {
                props.data.comment_odu_install_location
                ? <p><strong>Notes:</strong> {props.data.comment_odu_install_location}</p> 
                : null
            }

            Average Snow Depth (in): { props.data.outdoor_unit?.average_snow_depth ? props.data.outdoor_unit.average_snow_depth : null } <br/>
            Heat pump ODU will be installed on a <strong>{ props.data.outdoor_unit?.install_location ? props.data.outdoor_unit.install_location : null } </strong>

            <Photo id="proposed_idu_location_photo" label="Proposed IDU Location – Photo" required>
                Picture of the proposed heat pump outdoor unit(ODU) installation location. 
            </Photo>

            {
                props.data.comment_odu_location
                ? <p><strong>Notes:</strong> {props.data.comment_odu_location}</p> 
                : null
            }

            <Photo id="floor_plan_sketch_photo" label="Floor Plan Sketch – Photo" required>
                Picture or screenshot of a floor plan sketch (hand sketched is ok) showing the area each ductless heat pump will serve.
            </Photo>

            <Photo id="screenshot_of_manual_j_calculation_photo" label="Screenshot of Manual J Calculations – Photo">
                Attach a screenshot of Manual J load calculations showing design conditions, conditioned square footage, 
                and the heating and cooling load calculations.
            </Photo>

            ## Equipment Selection
            <Photo id="heating_performance_table_photo" label="Heating Performance Table Screenshot – Photo" required>
                Screenshot of the manufacturer’s heating performance table for the heat pump make and model 
                selected showing the total capacity and input energy used versus outdoor temperature. If not available, 
                use the data from the Northeast Energy Efficiency Partnership’s Air Source Heat Pump List.
            </Photo>

            <Photo id="cooling_performance_table_photo" label="Cooling Performance Table Screenshot – Photo" required>
                Screenshot of the manufacturer’s cooling performance table for the heat pump make
                and model selected showing the sensible versus total cooling capacity at the design conditions.
            </Photo>

            ## Installation Photo
            <Photo id="odu_name_plate_photo" label="ODU Name Plate – Photo" required>
            Picture of the outdoor unit name plate.
            </Photo>
            
            <Photo id="idu_name_plate_photo" label="IDU Name Plate – Photo" required>
                Picture of the indoor unit name plate.
            </Photo>

            <Photo id="circuit_breaker_amperage_photo" label="Circuit Breaker Amperage – Photo" required>
                Picture of the circuit breaker ampacity serving the ductless heat pump.
            </Photo>

            <Photo id="flare_tested_in_a_flare_guage_photo" label="Flare Tested In A Flare Gauge – Photo" required>
                Picture of one flare tested in a flare gauge, please test each flare using a flare gauge (one example photo).
            </Photo>

            <Photo id="torque_wrench_setting_photo" label="Torque Wrench Setting – Photo" required>
                Picture of the torque wrench set to the correct setting for the line set (one example).
            </Photo>

            <Photo id="nitrogen_pressure_test_setup_photo" label="Nitrogen Pressure Test Setup – Photo" required>
                Picture of the nitrogen pressure test setup, gauge at pressure readable in image, 
                use a digital pressure gauge. Test for a minimum of 15 mins.
            </Photo>

            <Photo id="pressure_test_result_photo" label="Pressure Test Results – Photo" required>
                Picture or screenshot of the temperature compensated pressure test results. Use a digital
                pressure gauge. Test for at least 10 minutes.
            </Photo>

            <Photo id="vacuum_setup_photo" label="Vacuum Setup – Photo" required>
                Picture of the vacuum/evacuation setup, use of core removal tool and minimize number of fittings.
            </Photo>

            <Photo id="vacuum_decay_test_results_photo" label="Vacuum Decay Test Results – Photo" required>
                Picture of the micron gauge read out or graph showing vacuum decay test result with vacuum pump 
                isolated from the system. Perform vacuum decay test for a minimum of 15 mins.
            </Photo>

            <Photo id="installation_manuals_line_set_compensation_instructions_photo" label="Picture of the Installation Manual's Line Set Compensation Instructions – Photo" required>
                Picture of the installation manual showing what oz/ft to add and at what line set length to 
                begin needing to add refrigerant to correct for the long line set. 
            </Photo>

            <Photo id="refrigerant_add_or_trim_photo" label="Refrigerant Add/Trim – Photo">
                Picture of the refrigerant scale readout showing it matches targeted weight of 
                refrigerant to add (if applicable).
            </Photo>


            {
                props.data.comment_refridgerant_adjustment
                ? <p><strong>Notes About Refridgerant Adjustment:</strong> {props.data.comment_refridgerant_adjustment}</p> 
                : null
            }

            <u>&nbsp;&nbsp;{props.data.oz_refrigerant_calculation?.number_of_ft_line_beyond_factory_charge ? props.data.oz_refrigerant_calculation?.number_of_ft_line_beyond_factory_charge : null } &nbsp;&nbsp;</u> ft of line set beyond factory charge  x  <u>&nbsp;&nbsp; { props.data.oz_refrigerant_calculation?.oz_refrigerant_to_add_per_ft ? props.data.oz_refrigerant_calculation?.oz_refrigerant_to_add_per_ft : null } &nbsp;&nbsp;</u> 0z/ft = <u>&nbsp;&nbsp;{ props.data.oz_refrigerant_calculation?.number_of_ft_line_beyond_factory_charge && props.data.oz_refrigerant_calculation?.oz_refrigerant_to_add_per_ft ? (props.data.oz_refrigerant_calculation.number_of_ft_line_beyond_factory_charge * props.data.oz_refrigerant_calculation?.oz_refrigerant_to_add_per_ft) : null }&nbsp;&nbsp;</u> oz to add.

            <Photo id="line_set_protection_photo" label="Line Set Protection – Photo" required>
                Picture of the outdoor section of the refrigerant line set as it enters the building showing the 
                line set insulation has been protected from weather and UV. 
            </Photo>


        </PrintSection>
        
    </Tab>


</Tabs>